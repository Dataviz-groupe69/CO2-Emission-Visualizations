<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Datavis project</title>
    <style>
        #slider{
            background-color: rgb(0, 255, 255);
            color:#00FFFF;
            width: 40%;
            margin-left: 30%;
        }


    </style>
</head>
<body>
<div>
    <div id="charts">

    </div>
</div>
<script src="https://d3js.org/d3.v4.min.js"></script>
<script>
  let margin = {
    top: 20,
    right: 100,
    bottom: 30,
    left: 100
  }
  let width = window.innerWidth- margin.left - margin.right
  let height = window.innerHeight*0.75- margin.top - margin.bottom
  let svg = d3.select("div#charts").append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
        .append("g")
        .attr("transform", "translate(" + margin.left + "," + margin.top + ")");



  d3.csv("./seaLevel_co2.csv",function (error,data) {
    // console.log(data)
    visualization(data)
  })

  function visualization(data) {
    let xScale = d3.scaleLinear().domain(d3.extent(data, function(d) {
      return parseInt(d['emission'])
    })).range([0, height])
    let yScale = d3.scaleLinear().domain(d3.extent(data, function(d) {
      return parseInt(d['CSIRO'])
    })).range([height, 0])

    let xAxis = d3.axisBottom(xScale).ticks(5)
    let yAxis = d3.axisLeft(yScale).ticks(5)

    svg.append('g')
      .attr('transform', 'translate(0,' + height + ')')
      .attr('class', 'x-axis')
      .call(xAxis)
    svg.append('g')
      .attr('transform', 'translate(0, 0)')
      .attr('class', 'y-axis')
      .call(yAxis)
    svg.append('text')
      .attr('x', 5)
      .attr('y', 0)
      .attr('class', 'label')
      .text('CSIRO')
    svg.append('text')
      .attr('x', height)
      .attr('y', height - 5)
      .attr('class', 'label')
      .text('CO2')
  }

</script>

</body>
</html>